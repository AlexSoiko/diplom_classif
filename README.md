# Определение уязвимых групп населения
## Итоговый проект первого года обучения Skillfactory Data Science

### Оглавление
1. Описание проекта
2. Краткая информация о данных
3. Этапы работы над проектом
4. Результаты и выводы  


### 1. Описание проекта

Предоставлены данные государственных органов о доходах, заболеваемости, социально незащищенных слоях населения России и другие экономические и демографические данные, сведения о преступлениях, совершённых отдельными категориями лиц за 2016–2022 гг. Задача проекта - кластеризовать регионы России и определить, какие из них наиболее остро нуждаются в помощи малообеспеченным/неблагополучным слоям населения:
* описать группы населения, сталкивающиеся с бедностью;
* определить:
  + влияет ли число детей, пенсионеров и других социально уязвимых групп на уровень бедности в регионе;
  + связаны ли уровень бедности/социального неблагополучия с производством и потреблением в регионе;
  + какие еще зависимости можно наблюдать относительно социально незащищенных слоев населения.
Проект включает в себя работу с данными, их предварительную обработку (data engineering), разработку и оптимизация ML-модели, кластерный анализ, проверку статистических гипотез.


### 2. Краткая информация о данных

Различные статистические, экономические и демографические данные госорганов по субъектам Российской Федерации за разные годы, сведения о преступлениях, совершённых отдельными категориями лиц за 2016–2022 гг., по месяцам, регионам, категориям лиц, категориям преступлений, полученные из открытых источников. Полный набор файлов содержится в папке data/. Более подробное описание дается при компиляции данных в части 1 настоящего проекта: diploma1.ipynb

[Финальный датасет, outliers/data_regions.csv], используемый для реализации проекта, представляет из себя срез усредннных данных за периоды имеющихся данных, по которому имеется наиболее полная статистика.


### 3. Этапы работы над проектом

- компиляция данных: diploma1.ipynb
- построение ML-модели кластеризации: diploma2.ipynb
- описание кластеров, анализ зависимостей: diploma3.ipynb


### 4. Результаты и выводы

* Проведено считывание экономических и демографических данных из предоставленных файлов различного формата и из дополнительных источников, а также сведений о преступлениях, совершённых отдельными категориями лиц за 2016–2022 гг., по месяцам, регионам, категориям лиц, категориям преступлений. На основе полученных датасетов сформирована финальная таблица по усредненным данным за собранный период данных. Помимо этого, структура ноутбука позволяет с помощью минимальных изменений кода оперативно комбинировать различные наборы характеристик  для возможного анализа финасово-экономических, демографических, медицинских, криминальных показателей по российским регионам.

* В качестве критериев для группировки регионов в кластеры с близкими параметрами выбраны признаки, отражающие социально-экономическое благополучие субъектов РФ. Построены рейтинги регионов по избранным показателям. Исследованы распределения выбранных признаков и корреляции между ними, произведен отбор и выполнены необходимые преобразования. Итоговый модельный датасет для проведения кластеризации включает в себя 35 независимых характеристик, среди которых: 
  - среднемесячный рост заработанной платы в регионе;
  - валовый региональный продукт;
  - объем розничной торговли на человека;
  - жилая площадь на человека;
  - процент населения за детей, пенсионеров, людей трудоспособного населения среди малообеспеченного населения;
  - средний темп прироста преступностей и удельный вес тяжких преступлений;
  - пожилые люди с доходами ниже прожиточного минимума
  и многими другими показателями.

* С помощью различных внутренних метрик кластеризации оценено оптимальное количество кластеров (пять). Построена базовая модель (k-means). Выполнено построение моделей кластеризации понижения размерности по методу главных компонент (*РСА*) и стохастического вложения соседей с t-распределением (*TSNE*). Протестированы различные алгоритмы кластеризации и на основе коэффициентов силуэта (*silhouette*), индексов Дэвиса-Болдина (*davies_bouldin*) и коэффициентов Калински-Харабаса (*calinski_harabasz*) было выявлено пять кластеров. Лучшими вариантами по коэффициенту силуэта - *PCA+GaussianMixture* и *TSNE+KMeans*, наилучший коэффициент Калински-Харабаса (*calinski_harabasz*) у *PCA+KMeans*, *TSNE+GaussianMixture* и *TSNE+KMeans*, наилучший коэффициент по индексу Дэвиса-Болдина - все метрики по по методу главных компонент (*РСА*). Учитывая наилучшее значение метрики Калински-Харабаса (*calinski_harabasz*) и индексы стохастического вложения соседей с t-распределением (*TSNE*), был выбран алгоритм кластеризации по методу *TSNE+KMeans*. При необходимости в качестве альтернативы можно также использовать TSNE+AgglomerativeClustering, дающий похожие значения метрик для финансово неблагополучных регионов.

* Проведенный анализ алгоритмов кластеризации по трем метрикам дан в части 2, diploma2.ipynb.

* Дано описание характерных особенностей полученных кластеров:
  - "дотационные" регионы;
  - "развитые" регионы;
  - "бедные" регионы;
  - "среднестатистические" регионы
  - регионы "Севера".

* Проведен анализ социально-демографических групп населения, показывающий, что наиболее уязвимой группой населения по финасовым показателям являются семьи с детьми. В "бедных" регионах существенно ниже инвалидность среди граждан трудоспособного возраста (17%), в "дотационных" (15%); в "развитых" регионах, наоборот, демонстрируют самый высокий процент (47%). Одним из объяснений, по-моему мнению, в развитых регионах большие возможность трудоустройства такой категории людей, этим же можно объяснить тот факт, что эти регионы входят в тройку по проценту общей заболеваемости. Различие в статистических группах показала принятие альтернативной гипотезы о значимом различии показателя в кластерах при уровне значимости 0,05.
Определены проценты малоимущих (бедных) среди детей, пенсионеров и людей трудоспособного возраста, показано, что имеются значимые различия среди малообеспеченных детей и малообеспеченных людей трудоспособносного возраста в пяти кластерах. В "бедных" регионах наблюдаем наибольший процент малообеспеченных среди детей и людей трудоспособного возраста, также в лидерах "дотационные" регионы. Аналогичная картина наблюдается с малобеспеченными пенсионерами, однако подтверждается гипотеза об отсутствии значимого различия в кластерах на основании критерия Крускала-Уоллиса.
Наблюдается значимое различие уровня бедности/социального неблагополучия с производством и потреблением в регион. Так "развитые" регионы имеют наибольшие значения региональных производств по всем видам деятельности на душу населения, самые низкие "бедные" регионы. В ходе исследования также установлено, что на уровень бедности/социального неблагополучия зависит от расходов региональных бюджетов на социальную политику, среднемесячный денежный доход на человека, среднего валового регионального продукта, средней детской смертности, в процентах от количества новорожденных и инвалидности среди трудоспособного возраста.
 
* Проведен анализ различия других характеристик датасета по кластерам. Подробное описание имеющихся корреляций и отсутствия таковых дано в части 3, diploma3.ipynb.
